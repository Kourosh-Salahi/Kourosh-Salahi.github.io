<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CS180 Project 1 — Colorizing the Prokudin‑Gorskii Photo Collection</title>
  <meta name="description" content="CS180 Proj1: Single‑scale & multi‑scale (image pyramid) alignment with L2/NCC" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0b1020;
      --card: #111836;
      --muted: #a0aec0;
      --ink: #e6eefc;
      --accent: #8ab4ff;
      --accent2: #70f3c4;
      --ring: rgba(138, 180, 255, 0.45);
      --ok: #70f3c4;
      --warn: #f5b971;
      --bad: #f87171;
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--ink); background: radial-gradient(1200px 600px at 20% -10%, #18224a 0%, transparent 60%),
                          radial-gradient(900px 500px at 120% 10%, rgba(112,243,196,0.15) 0%, transparent 60%),
                          var(--bg);
      line-height: 1.6;
    }
    a { color: var(--accent); text-decoration: none; }
    a:hover { text-decoration: underline; }

    /* Layout */
    .container { width: 100%; max-width: 1100px; margin: 0 auto; padding: 0 20px; }
    header {
      padding: 48px 0 24px; position: sticky; top: 0; backdrop-filter: saturate(150%) blur(10px);
      background: linear-gradient(to bottom, rgba(11,16,32,0.8), rgba(11,16,32,0.3), transparent);
      border-bottom: 1px solid rgba(255,255,255,0.06);
      z-index: 20;
    }
    .brand { display: flex; align-items: center; gap: 12px; }
    .brand .dot { width: 10px; height: 10px; border-radius: 999px; background: linear-gradient(135deg, var(--accent), var(--accent2)); box-shadow: 0 0 0 6px rgba(138,180,255,0.15); }
    .brand h1 { font-size: 18px; margin: 0; font-weight: 800; letter-spacing: 0.2px; }

    .hero { padding: 32px 0 12px; }
    .title { font-size: clamp(28px, 4vw, 44px); line-height: 1.1; margin: 6px 0 10px; font-weight: 800; }
    .subtitle { color: var(--muted); max-width: 75ch; }
    .meta { margin-top: 10px; color: #cbd5e1; font-size: 14px; display:inline-flex; gap: 12px; align-items:center; flex-wrap: wrap; }
    .pill { display: inline-flex; align-items: center; gap: 8px; padding: 6px 10px; border-radius: 999px; background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.08); }

    .card { background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02)); border: 1px solid rgba(255,255,255,0.08); border-radius: 18px; padding: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.25); }
    .section { margin: 30px 0; }
    .section h2 { margin: 0 0 8px; font-size: clamp(22px, 3vw, 28px); }
    .section p.lead { margin-top: 0; color: #cbd5e1; }

    .grid { display: grid; grid-template-columns: 1fr; gap: 16px; }
    @media (min-width: 860px) { .grid.two { grid-template-columns: 1fr 1fr; } }
    @media (min-width: 860px) { .grid.three { grid-template-columns: 1fr 1fr 1fr; } }

    figure { margin: 0; display: grid; gap: 8px; }
    figure img, video { width: 100%; height: auto; border-radius: 14px; border: 1px solid rgba(255,255,255,0.08); display:block; }
    figcaption { font-size: 14px; color: var(--muted); }

    /* Details */
    .details { display: grid; gap: 8px; margin-top: 8px; }
    .details .row { display:flex; gap:10px; flex-wrap:wrap }
    .kbd { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; font-size: 12px; padding: 2px 6px; border-radius: 6px; background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.1) }

    /* Tables */
    table { width: 100%; border-collapse: collapse; font-size: 14px; }
    th, td { padding: 10px 12px; border-bottom: 1px solid rgba(255,255,255,0.08); text-align: left; }
    th { font-weight: 700; }
    .ok { color: var(--ok); }
    .warn { color: var(--warn); }
    .bad { color: var(--bad); }

    /* Footer */
    footer { margin: 40px 0 60px; color: var(--muted); text-align: center; font-size: 14px; }

    /* Lightbox */
    .lightbox img { cursor: zoom-in; }
    .lightbox.open { position: fixed; inset: 0; background: rgba(7,10,22,0.85); display: grid; place-items: center; padding: 40px; z-index: 50; }
    .lightbox.open img { max-width: min(1200px, 92vw); max-height: 90vh; border-radius: 18px; box-shadow: 0 20px 60px rgba(0,0,0,0.55); cursor: zoom-out; }

    /* Callouts */
    .callout { border-left: 3px solid var(--accent); padding: 10px 14px; background: rgba(255,255,255,0.04); border-radius: 8px; }
    code, pre { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; }
    pre { padding: 14px; border-radius: 12px; background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.08); overflow:auto }

    /* Chips */
    .chip { display:inline-flex; align-items:center; gap:8px; padding:4px 8px; border-radius:999px; background:rgba(255,255,255,0.06); border:1px solid rgba(255,255,255,0.08); font-size:12px }
      @media (min-width: 1100px) { .grid.four { grid-template-columns: 1fr 1fr 1fr 1fr; } }
  </style>
</head>
<body>
  <header>
    <div class="container brand">
      <span class="dot" aria-hidden="true"></span>
      <h1>CS180 · Project 1</h1>
      <nav style="margin-left:auto;font-size:14px;display:flex;gap:12px">
        <a href="../">Home</a>
        <a href="../0/">Project 0</a>
        <a href="#results-single">Single‑Scale</a>
        <a href="#results-pyramid">Pyramid</a>
        <a href="#bells">Bells & Whistles</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <section class="hero">
      <div class="card">
        <h2 class="title">Colorizing the Prokudin‑Gorskii Photo Collection</h2>
        <p class="subtitle">Aligning three monochrome glass‑plate channels (B, G, R) into vivid color images using single‑scale search and coarse‑to‑fine image pyramids. Used NCC in alignment algorithm.</p>
        <div class="meta">
          <span class="pill">Course: CS180 — Intro to Computer Vision & Computational Photography</span>
          <span class="pill">Project #1</span>
          <span class="pill">Author: <strong>Kourosh Salahi</strong></span>
          <span class="pill">Due: Sep 12, 2025 • 11:59 PM</span>
        </div>
      </div>
    </section>

    <!-- Overview / Key Ideas -->
    <section class="section">
      <div class="card">
        <h2>Overview & Key Ideas</h2>
        <p class="lead">Given three images taken in black and white which have R, G, and B filters put on the lenses of the camera, we can use the intensities of the pixel brightness and these three images to reconstruct a color image. Utilizing an alignment algorithm, this was accomplished.</p>
        <div class="grid two">
          <figure class="lightbox" onclick="openLightbox(event)">
            <img src="./media/cathedral.jpg" alt="Example glass plate (BGR from top to bottom)." loading="lazy" />
            <figcaption>Input glass plate (top→bottom = B, G, R).</figcaption>
          </figure>
          <figure class="lightbox" onclick="openLightbox(event)">
            <img src="./media/cathedral_recolored.jpg" alt="Aligned and colorized output image." loading="lazy" />
            <figcaption>Output after alignment & composition.</figcaption>
          </figure>
        </div>
        <div class="details">
          <div class="callout">
            <strong>Scoring metrics.</strong> I implemented <span class="chip">NCC</span> as the scoring metric. This worked well throughout.
          </div>
        </div>
      </div>
    </section>

    <!-- Method -->
    <section class="section" id="method">
      <div class="card">
        <h2>Method</h2>
        <p class="lead">At a high level the recolorization was broken into a few steps. First the image was seperated into the R, G, and B channels. 
          Then, the image was preprocessed using a simple cropping algorithm (shaving 10 or 20% off the edges to remove the impact of borders on the scoring). Next the program would either go through single scale or multi-scale scoring, and return the best x and y displacements for the R and G channel. 
          The final image was then returned by rolling each channel by the amount returned by the align function. </p>
        <div class="grid two">
          <div>
            <h3 style="margin:0 0 6px">Single‑Scale (Baseline)</h3>
            <ul style="margin-top:8px">
              <li>Split the original image into thirds, changing each pixel to a float for easier calculations</li>
              <li>Used a 15 pixel wide search window so as to balance efficiency with thoroughness</li>
              <li>Used an NCC metric to score the displacement on how good the resulting alignment was.</li>
              <li>Used Cropping to preprocess then rebuilt using displacements. </li>
            </ul>
            <h3 style="margin:12px 0 6px">Coarse‑to‑Fine Pyramid</h3>
            <ul>
              <li><em>Placeholder:</em> Describe how you downsample and how many levels.</li>
              <li><em>Placeholder:</em> Describe how you propagate and refine displacements.</li>
              <li><em>Placeholder:</em> Any heuristics (e.g., refine window size).</li>
            </ul>
          </div>
          <div>
            <p style="margin:8px 0 0" class="muted"><em>Placeholder:</em> Implementation notes (e.g., shifting with np.roll, float conversion).</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Results: Single Scale -->
<!-- Results: Single Scale -->
<section class="section" id="results-single">
<div class="card">
<h2>Results — Single‑Scale (Low‑Res JPEGs)</h2>
<p class="lead"><em>Placeholder:</em> This is where you would summarize your single‑scale results and observations. The three low‑res JPEGs have their own section here.</p>
<div class="grid three">
<figure class="lightbox" onclick="openLightbox(event)">
<img src="./media/cathedral_recolored.jpg" alt="cathedral — single-scale result" loading="lazy" />
<figcaption>
<strong>cathedral.jpg</strong><br>
R→B: <code>(3, 12)</code> • G→B: <code>(2, 5)</code> • <em>metric:</em> <span class="chip">NCC</span>
</figcaption>
</figure>
<figure class="lightbox" onclick="openLightbox(event)">
<img src="./media/monastery_recolored.jpg" alt="monastery — single-scale result" loading="lazy" />
<figcaption>
<strong>monastery.jpg</strong><br>
R→B: <code>(2, 3)</code> • G→B: <code>(2, -3)</code> • <em>metric:</em> <span class="chip">NCC</span>
</figcaption>
</figure>
<figure class="lightbox" onclick="openLightbox(event)">
<img src="./media/tobolsk_recolored.jpg" alt="tobolsk — single-scale result" loading="lazy" />
<figcaption>
<strong>tobolsk.jpg</strong><br>
R→B: <code>(3, 6)</code> • G→B: <code>(3, 3)</code> • <em>metric:</em> <span class="chip">NCC</span>
</figcaption>
</figure>
</div>
</div>
</section>


<!-- Results: Pyramid -->
<section class="section" id="results-pyramid">
<div class="card">
<h2>Results — Multi‑Scale Pyramid (Mandatory Set)</h2>
<p class="lead"><em>Placeholder:</em> This is where you would summarize the pyramid results and overall performance on the required images.</p>
<div class="grid three" style="margin-bottom:12px">
<figure class="lightbox" onclick="openLightbox(event)">
<img src="./media/church_recolored.jpg" alt="church — pyramid result" loading="lazy" />
<figcaption><strong>church.tif</strong> — <em>Placeholder:</em> brief note here.</figcaption>
</figure>
<figure class="lightbox" onclick="openLightbox(event)">
<img src="./media/emir_recolored.jpg" alt="emir — pyramid result" loading="lazy" />
<figcaption><strong>emir.tif</strong> — <em>Placeholder:</em> brief note here.</figcaption>
</figure>
<figure class="lightbox" onclick="openLightbox(event)">
<img src="./media/harvesters_recolored.jpg" alt="harvesters — pyramid result" loading="lazy" />
<figcaption><strong>harvesters.tif</strong> — <em>Placeholder:</em> brief note here.</figcaption>
</figure>
<figure class="lightbox" onclick="openLightbox(event)">
<img src="./media/icon_recolored.jpg" alt="icon — pyramid result" loading="lazy" />
<figcaption><strong>icon.tif</strong> — <em>Placeholder:</em> brief note here.</figcaption>
</figure>
<figure class="lightbox" onclick="openLightbox(event)">
<img src="./media/italil_recolored.jpg" alt="italil — pyramid result" loading="lazy" />
<figcaption><strong>italil.tif</strong> — <em>Placeholder:</em> brief note here.</figcaption>
</figure>
<figure class="lightbox" onclick="openLightbox(event)">
<img src="./media/lastochikino_recolored.jpg" alt="lastochikino — pyramid result" loading="lazy" />
<figcaption><strong>lastochikino.tif</strong> — <em>Placeholder:</em> brief note here.</figcaption>
</figure>
<figure class="lightbox" onclick="openLightbox(event)">
<img src="./media/lugano_recolored.jpg" alt="lugano — pyramid result" loading="lazy" />
<figcaption><strong>lugano.tif</strong> — <em>Placeholder:</em> brief note here.</figcaption>
</figure>
<figure class="lightbox" onclick="openLightbox(event)">
<img src="./media/melons_recolored.jpg" alt="melons — pyramid result" loading="lazy" />
<figcaption><strong>melons.tif</strong> — <em>Placeholder:</em> brief note here.</figcaption>
</figure>
<figure class="lightbox" onclick="openLightbox(event)">
<img src="./media/self_portrait_recolored.jpg" alt="self portrait — pyramid result" loading="lazy" />
<figcaption><strong>self_portrait.tif</strong> — <em>Placeholder:</em> brief note here.</figcaption>
</figure>
<figure class="lightbox" onclick="openLightbox(event)">
<img src="./media/siren_recolored.jpg" alt="siren — pyramid result" loading="lazy" />
<figcaption><strong>siren.tif</strong> — <em>Placeholder:</em> brief note here.</figcaption>
</figure>
<figure class="lightbox" onclick="openLightbox(event)">
<img src="./media/three_generations_recolored.jpg" alt="three generations — pyramid result" loading="lazy" />
<figcaption><strong>three_generations.tif</strong> — <em>Placeholder:</em> brief note here.</figcaption>
</figure>
</div>
<div class="card" style="margin-top:12px">
<table>
<thead>
<tr>
<th>Image</th>
<th>Metric</th>
<th>G→B (dx, dy)</th>
<th>R→B (dx, dy)</th>
<th>Status</th>
</tr>
</thead>
<tbody>
<tr><td>church.tif</td><td>NCC</td><td>(4, 25)</td><td>(-4, 58)</td><td class="ok">OK</td></tr>
<tr><td>emir.tif</td><td>NCC</td><td>(24, 49)</td><td>(55, 103)</td><td class="warn">Note</td></tr>
<tr><td>harvesters.tif</td><td>NCC</td><td>(16, 59)</td><td>(13, 123)</td><td class="ok">OK</td></tr>
<tr><td>icon.tif</td><td>NCC</td><td>(17, 41)</td><td>(23, 89)</td><td class="ok">OK</td></tr>
<tr><td>italil.tif</td><td>NCC</td><td>(21, 38)</td><td>(35, 76)</td><td class="ok">OK</td></tr>
<tr><td>lastochikino.tif</td><td>NCC</td><td>(-2, -2)</td><td>(-8, 75)</td><td class="ok">OK</td></tr>
<tr><td>lugano.tif</td><td>NCC</td><td>(-16, 41)</td><td>(-29, 92)</td><td class="ok">OK</td></tr>
<tr><td>melons.tif</td><td>NCC</td><td>(10, 81)</td><td>(13, 178)</td><td class="ok">OK</td></tr>
<tr><td>self_portrait.tif</td><td>NCC</td><td>(29, 78)</td><td>(37, 176)</td><td class="ok">OK</td></tr>
<tr><td>siren.tif</td><td>NCC</td><td>(-6, 49)</td><td>(-25, 95)</td><td class="ok">OK</td></tr>
<tr><td>three_generations.tif</td><td>NCC</td><td>(14, 53)</td><td>(11, 112)</td><td class="ok">OK</td></tr>
</tbody>
</table>
</div>
</div>
</section>


<!-- Extra Images from LoC -->
</section>
    <!-- Failures / Analysis -->
    <section class="section" id="failures">
      <div class="card">
        <h2>Failure Cases & Analysis</h2>
        <p class="lead">The only image that seemed to fail completely in aligning was the image of the Emir. .</p>
        <ul>
          <li><em>Placeholder:</em> Brief description of a failure mode and a potential fix.</li>
          <li><em>Placeholder:</em> Another failure mode and potential fix.</li>
          <li><em>Placeholder:</em> Any notes on trade‑offs or parameter sensitivity.</li>
        </ul>
      </div>
    </section>

    <!-- Repro / Notes -->
    <section class="section" id="repro">
      <div class="card">
        <h2>Reproducibility & Notes</h2>
        <ul>
          <li><em>Placeholder:</em> Notes on data types, scaling, and performance.</li>
          <li><em>Placeholder:</em> Notes on fixed parameters used across images.</li>
          <li><em>Placeholder:</em> Any tips for running your code (without including large files).</li>
        </ul>
      </div>
    </section>

    <!-- Thanks -->
    <section class="section">
      <div class="card">
        <h2>Thanks for reading! 📷🧮</h2>
        <p class="lead">Per the assignment: submit code to Gradescope (no large images) and include this webpage URL in both Gradescope and the class gallery form.</p>
      </div>
    </section>
  </main>

  <footer class="container">
    <p>
      Prepared for CS180 Project 1 by Kourosh Andrew Salahi. Images: Prokudin‑Gorskii Collection (Library of Congress). This page is for presentation only; do not upload image assets to Gradescope.
    </p>
  </footer>

  <script>
    function openLightbox(e) {
      const fig = e.currentTarget;
      fig.classList.add('open');
      function close(ev) {
        if (ev.target.tagName === 'IMG' || ev.target === fig) {
          fig.classList.remove('open');
          fig.removeEventListener('click', close);
        }
      }
      fig.addEventListener('click', close);
    }
  </script>
</body>
</html>
